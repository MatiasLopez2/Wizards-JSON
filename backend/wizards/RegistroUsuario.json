{
  "name": "RegistroUsuario",
  "description": "Wizard simple de 3 pasos para registro de usuario (estructura basada en mxm_coni)",
  "isActive": true,
  "initialStep": "personal",
  "steps": [
    {
      "name": "personal",
      "description": "Paso 1: Datos personales",
      "className": "max-w-md mx-auto p-6 bg-white rounded-lg shadow-md",
      "components": [
        {
          "order": 5,
          "name": "titulo",
          "componentType": "TEXT",
          "component": { "value": "Crear una cuenta" },
          "className": "text-center mb-4"
        },
        {
          "order": 10,
          "name": "nombre",
          "componentType": "FIELD",
          "component": { "type": "TEXT", "placeholder": "Nombre" },
          "className": "mb-3"
        },
        {
          "order": 15,
          "name": "apellido",
          "componentType": "FIELD",
          "component": { "type": "TEXT", "placeholder": "Apellido" },
          "className": "mb-3"
        },
        {
          "order": 90,
          "name": "next1",
          "componentType": "BUTTON",
          "component": { "label": "Siguiente" },
          "className": "w-full",
          "events": {
            "ON_CLICK": [
              {
                "order": 1,
                "type": "CONDITIONAL",
                "conditions": true,
                "actions": [
                  { "order": 1, "type": "SAVE_STEP_VALUES" },
                  { "order": 2, "type": "CONSOLE_LOG", "message": "Paso 1 guardado" },
                  { "order": 3, "type": "GO_TO_STEP", "stepName": "account" }
                ]
              }
            ]
          }
        }
      ],
      "events": {
        "ON_MOUNTED": [ { "order": 1, "type": "CONDITIONAL", "conditions": true, "actions": [ { "order": 1, "type": "INIT_STEP_VALUES" } ] } ]
      }
    },
    {
      "name": "account",
      "description": "Paso 2: Datos de cuenta",
      "className": "max-w-md mx-auto p-6 bg-white rounded-lg shadow-md",
      "components": [
        { "order": 5, "name": "titulo2", "componentType": "TEXT", "component": { "value": "Configura tu cuenta" }, "className": "text-center mb-4" },
        { "order": 10, "name": "email", "componentType": "FIELD", "component": { "type": "TEXT", "placeholder": "email@ejemplo.com" }, "className": "mb-3" },
        { "order": 15, "name": "usuario", "componentType": "FIELD", "component": { "type": "TEXT", "placeholder": "Usuario" }, "className": "mb-3" },
        { "order": 20, "name": "password", "componentType": "FIELD", "component": { "type": "TEXT", "placeholder": "Contraseña" }, "className": "mb-3" },
        {
          "order": 80,
          "name": "back2",
          "componentType": "BUTTON",
          "component": { "label": "Anterior" },
          "className": "w-full mb-2",
          "events": { "ON_CLICK": [ { "order": 1, "type": "CONDITIONAL", "conditions": true, "actions": [ { "order": 1, "type": "GO_TO_STEP", "stepName": "personal" } ] } ] }
        },
        {
          "order": 90,
          "name": "next2",
          "componentType": "BUTTON",
          "component": { "label": "Siguiente" },
          "className": "w-full",
          "events": {
            "ON_CLICK": [
              { "order": 1, "type": "CONDITIONAL", "conditions": true, "actions": [ { "order": 1, "type": "SAVE_STEP_VALUES" }, { "order": 2, "type": "CONSOLE_LOG", "message": "Paso 2 guardado" }, { "order": 3, "type": "GO_TO_STEP", "stepName": "confirm" } ] }
            ]
          }
        }
      ],
      "events": { "ON_MOUNTED": [ { "order": 1, "type": "CONDITIONAL", "conditions": true, "actions": [ { "order": 1, "type": "INIT_STEP_VALUES" } ] } ] }
    },
    {
      "name": "confirm",
      "description": "Paso 3: Confirmación",
      "className": "max-w-md mx-auto p-6 bg-white rounded-lg shadow-md",
      "components": [
        { "order": 5, "name": "titulo3", "componentType": "TEXT", "component": { "value": "Confirma tus datos" }, "className": "text-center mb-4" },
        { "order": 10, "name": "resumenNombre", "componentType": "TEXT", "component": { "value": "" }, "className": "mb-1 text-gray-600" },
        { "order": 15, "name": "resumenUsuario", "componentType": "TEXT", "component": { "value": "" }, "className": "mb-1 text-gray-600" },
        { "order": 80, "name": "back3", "componentType": "BUTTON", "component": { "label": "Anterior" }, "className": "w-full mb-2", "events": { "ON_CLICK": [ { "order": 1, "type": "CONDITIONAL", "conditions": true, "actions": [ { "order": 1, "type": "GO_TO_STEP", "stepName": "account" } ] } ] } },
        { "order": 90, "name": "confirmBtn", "componentType": "BUTTON", "component": { "label": "Confirmar" }, "className": "w-full bg-green-600 text-white", "events": { "ON_CLICK": [ { "order": 1, "type": "CONDITIONAL", "conditions": true, "actions": [ { "order": 1, "type": "SAVE_STEP_VALUES" }, { "order": 2, "type": "CONSOLE_LOG", "message": "Usuario confirmado" }, { "order": 3, "type": "FINISH_WIZARD" } ] } ] } }
      ],
      "events": {
        "ON_MOUNTED": [
          {
            "order": 1,
            "type": "CONDITIONAL",
            "conditions": true,
            "actions": [
              {
                "order": 1,
                "type": "UPDATE_COMPONENT",
                "params": {
                  "targetName": "resumenNombre",
                  "targetProp": "value",
                  "context": { "key": "value", "type": "ALL_STEP_VALUES", "expression": "'Nombre: ' & personal.nombre & ' ' & personal.apellido" }
                }
              },
              {
                "order": 2,
                "type": "UPDATE_COMPONENT",
                "params": {
                  "targetName": "resumenUsuario",
                  "targetProp": "value",
                  "context": { "key": "value", "type": "ALL_STEP_VALUES", "expression": "'Usuario: ' & account.usuario" }
                }
              },
              { "order": 3, "type": "INIT_STEP_VALUES" }
            ]
          }
        ]
      }
    }
  ]
}
